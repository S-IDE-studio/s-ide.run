---
title: Context Manager
description: AIセッションのコンテキスト管理機能
order: 2
---

# Context Manager

Context Managerは長時間のAIコーディングセッションにおける「コンテキストロット」を防ぐための専用機能です。

## コンテキストロットとは

長いAIセッションで以下のような問題が発生します：

- **トークン肥大化**: 会話履歴が大きくなり、関連性の高いコンテキストが減少
- **トピックドリフト**: 会話が最初の目的からずれていく
- **ノイズ蓄積**: 重要でないやり取りが実際の作業を不明瞭にする
- **フェーズ混在**: 計画、実装、デバッグが混ざり合う

## ヘルススコア (0-100)

セッションの品質をリアルタイムで評価：

| スコア | 状態 | アクション |
|--------|------|-----------|
| 80-100 | 優秀 | 現状維持 |
| 50-79 | 良好 | 最適化可能 |
| 30-49 | 警告 | 圧縮を検討 |
| 0-29 | 危機 | 即座のアクション推奨 |

## トピックドリフト検出

会話が最初の目的からどれくらいずれたかをパーセンテージで表示：

- **0-39%**: 低ドリフト - 会話はトピックに集中
- **40-69%**: 中程度 - ドリフトを検出
- **70-100%**: 高ドリフト - 新規セッション開始推奨

## セッション圧縮

古いメッセージを要約してトークンを節約：

1. Context Managerパネルの「Compact」ボタンをクリック
2. 最近のメッセージはそのまま保持（デフォルト: 直近50件）
3. 古いメッセージを簡潔な要約に変換
4. トークン数を40-60%削減

## スナップショット

会話状態を保存して後で復元：

- スナップショット作成時にヘルススコアを記録
- コミットハッシュ、タイムスタンプを保存
- 実験の分岐に最適

## 自動圧縮

ヘルススコアがしきい値を下回ると自動実行：

- バックグラウンドで実行
- 最近のコンテキストを保持
- 手動オーバーライド可能

## フェーズ検出

会話のフェーズを自動識別：

- **Planning**: 要件とアーキテクチャの議論
- **Implementation**: アクティブなコーディング
- **Debugging**: エラー修正とトラブルシューティング
- **Review**: コードレビューと最適化

## スマート推奨

コンテキスト分析に基づいてアクション可能な提案：

- 「ヘルススコアが50未満です - 圧縮を検討してください」
- 「トピックドリフトを検出 - 新規セッションを開始しますか？」
- 「エラー率が高い - 最近の変更を確認してください」
