---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const docsEntries = await getCollection('docs');
const docs = docsEntries.sort((a, b) => (a.data.order ?? 999) - (b.data.order ?? 999));
---

<Layout title="ドキュメント - S-IDE">
  <section class="relative bg-black pb-32">
    <!-- Grid Container -->
    <div class="relative mx-auto" style="width: 916px;">
      <!-- Sidebar - Column 1-2 -->
      <aside class="absolute" style="left: 0; top: 120px; width: 299px;">
        <nav class="flex flex-col" style="gap: 16px;" aria-label="ドキュメントサイドバー">
          <h2 style="color: #ffffff; font-family: Inter; font-size: 24px; font-weight: 700;">
            ドキュメント
          </h2>
          <ul style="display: flex; flex-direction: column; gap: 16px;" role="list">
            {docs.map((doc) => (
              <li>
                <a
                  href={`/docs/${doc.id}`}
                  style="font-size: 14px; color: #bbbbbb; font-family: Inter; font-weight: normal;"
                  class="hover:text-white transition-colors"
                >
                  {doc.data.title}
                </a>
              </li>
            ))}
          </ul>
        </nav>
      </aside>

      <!-- Content - Column 3-6 (left: 308px = 145*2 + 9*2) -->
      <main class="absolute" style="left: 308px; top: 120px; width: 608px;">
        <div class="flex flex-col" style="gap: 24px;">
          <!-- Page Title -->
          <h1 style="color: #ffffff; font-family: Inter; font-size: 48px; font-weight: 700;">
            はじめに
          </h1>

          <!-- Description -->
          <p style="color: #bbbbbb; font-family: Inter; font-size: 16px; font-weight: normal; line-height: 1.6;">
            S-IDEは、すべてのAIエージェントを統合し、シームレスな創造体験を提供するローカル実行環境です。
          </p>

          <!-- Document Cards -->
          <div class="flex flex-col" style="gap: 16px; margin-top: 32px;">
            {docs.map((doc) => (
              <a
                href={`/docs/${doc.id}`}
                class="block p-6 transition-colors hover:bg-[#222222]"
                style="background-color: #1a1a1a; border: 1px solid #333333;"
              >
                <h2 style="color: #ffffff; font-family: Inter; font-size: 20px; font-weight: 600; margin-bottom: 8px;">
                  {doc.data.title}
                </h2>
                <p style="color: #bbbbbb; font-family: Inter; font-size: 14px; font-weight: normal;">
                  {doc.data.description}
                </p>
              </a>
            ))}
          </div>
        </div>
      </main>
    </div>
  </section>
</Layout>
